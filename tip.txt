import React from 'react'
import {Ionicons} from '@expo/vector-icons';
import {Pressable, StyleSheet, Text, View} from 'react-native';

import Icons from '../../assets/icons';
import OpenLink from '../../utils/OpenLink';
import {COLOR, FONTSIZE} from '../../constants/contants';
import IconLabelPair from '../IconLabelPair';

interface TipFooterProps {
  source_url_text?: string
  source_url?: string
  bookmarked: boolean
  handleBookmark: () => void
  onSubmitReport: () => void
}

const TipFooter: React.FC<TipFooterProps> = ({
  source_url_text,
  bookmarked,
  handleBookmark,
  source_url,
  onSubmitReport
}) => {
  {/* footer  */ }
  const openSourceLink = () => {
    OpenLink(source_url as string)
  }
  const handleSubmit = () => {
    onSubmitReport()
  }
  return (
    <View style={styles.footer}>
      {!bookmarked && <IconLabelPair iconName='heart-outline' size={0} iconLabel={'Save'} />}
      {bookmarked && <IconLabelPair iconName='heart' size={20} iconLabel='Save' />}

      <IconLabelPair iconName='report' onPress={handleSubmit} size={20} iconLabel={'Report'} />
      <IconLabelPair iconName='message' onPress={function(){}} size={16} iconLabel={'Comment'} />
      {/* <Icons name='report' press={handleSubmit} size={20} />
      <Icons name='message' press={function(){}} size={15} /> */}
      {source_url &&
        <View>
          <Pressable style={styles.inputView} onPress={openSourceLink}>
            <Text style={styles.text}>{source_url_text}</Text>
          </Pressable>
        </View>}
    </View>
  );
}

export default React.memo(TipFooter)

const styles = StyleSheet.create({
  footer: {
    flexDirection: 'row',
    alignItems: 'center',
    gap: 10,
    marginTop: 20,
    // justifyContent:'center'
  },
  inputView: {
    padding:5,
    borderWidth: 1,
    borderRadius: 5,
    borderColor: COLOR.PRIMARY_300,
    backgroundColor: COLOR.PRIMARY_50
  },
  inputText: {
    flex: 1,
  },
  text: {
    color: COLOR.PRIMARY_300,
    fontSize:FONTSIZE.SMALL
  }
})